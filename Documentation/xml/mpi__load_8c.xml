<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.4">
  <compounddef id="mpi__load_8c" kind="file">
    <compoundname>mpi_load.c</compoundname>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">time.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">assert.h</includes>
    <includes local="no">gsl/gsl_blas.h</includes>
    <includes local="no">gsl/gsl_multimin.h</includes>
    <includes local="no">gsl/gsl_math.h</includes>
    <includes local="no">gsl/gsl_rng.h</includes>
    <includes local="no">gsl/gsl_siman.h</includes>
    <includes local="no">gsl/gsl_ieee_utils.h</includes>
    <includes local="no">gsl/gsl_statistics_double.h</includes>
    <includes local="no">sbml/SBMLTypes.h</includes>
    <includes local="no">libxml/parser.h</includes>
    <includes local="no">libxml/xpath.h</includes>
    <includes local="no">sys/types.h</includes>
    <includes local="no">sys/socket.h</includes>
    <includes local="no">netinet/in.h</includes>
    <includes local="no">unistd.h</includes>
    <includes refid="xml__parameter_8h" local="yes">xml_parameter.h</includes>
    <includes refid="especes_8h" local="yes">especes.h</includes>
    <includes refid="equations_8h" local="yes">equations.h</includes>
    <includes refid="simulation_8h" local="yes">simulation.h</includes>
    <includes refid="data__parameters_8h" local="yes">data_parameters.h</includes>
    <includes refid="gsl__recuit_8h" local="yes">gsl_recuit.h</includes>
    <includes refid="gsl__mod_8h" local="yes">gsl_mod.h</includes>
    <includes refid="gsl__min_8h" local="yes">gsl_min.h</includes>
    <includes refid="gsl__sd_8h" local="yes">gsl_sd.h</includes>
    <includes local="yes">mpi.h</includes>
    <includes refid="mpi__load_8h" local="yes">mpi_load.h</includes>
    <incdepgraph>
      <node id="525">
        <label>gsl/gsl_blas.h</label>
      </node>
      <node id="549">
        <label>mpi_load.h</label>
        <link refid="mpi__load_8h"/>
      </node>
      <node id="537">
        <label>netinet/in.h</label>
      </node>
      <node id="524">
        <label>assert.h</label>
      </node>
      <node id="530">
        <label>gsl/gsl_ieee_utils.h</label>
      </node>
      <node id="529">
        <label>gsl/gsl_siman.h</label>
      </node>
      <node id="521">
        <label>stdlib.h</label>
      </node>
      <node id="533">
        <label>libxml/parser.h</label>
      </node>
      <node id="531">
        <label>gsl/gsl_statistics_double.h</label>
      </node>
      <node id="540">
        <label>especes.h</label>
        <link refid="especes_8h"/>
      </node>
      <node id="532">
        <label>sbml/SBMLTypes.h</label>
      </node>
      <node id="535">
        <label>sys/types.h</label>
      </node>
      <node id="519">
        <label>metaboflux/src/mpi_load.c</label>
        <link refid="mpi_load.c"/>
        <childnode refid="520" relation="include">
        </childnode>
        <childnode refid="521" relation="include">
        </childnode>
        <childnode refid="522" relation="include">
        </childnode>
        <childnode refid="523" relation="include">
        </childnode>
        <childnode refid="524" relation="include">
        </childnode>
        <childnode refid="525" relation="include">
        </childnode>
        <childnode refid="526" relation="include">
        </childnode>
        <childnode refid="527" relation="include">
        </childnode>
        <childnode refid="528" relation="include">
        </childnode>
        <childnode refid="529" relation="include">
        </childnode>
        <childnode refid="530" relation="include">
        </childnode>
        <childnode refid="531" relation="include">
        </childnode>
        <childnode refid="532" relation="include">
        </childnode>
        <childnode refid="533" relation="include">
        </childnode>
        <childnode refid="534" relation="include">
        </childnode>
        <childnode refid="535" relation="include">
        </childnode>
        <childnode refid="536" relation="include">
        </childnode>
        <childnode refid="537" relation="include">
        </childnode>
        <childnode refid="538" relation="include">
        </childnode>
        <childnode refid="539" relation="include">
        </childnode>
        <childnode refid="540" relation="include">
        </childnode>
        <childnode refid="541" relation="include">
        </childnode>
        <childnode refid="542" relation="include">
        </childnode>
        <childnode refid="543" relation="include">
        </childnode>
        <childnode refid="544" relation="include">
        </childnode>
        <childnode refid="545" relation="include">
        </childnode>
        <childnode refid="546" relation="include">
        </childnode>
        <childnode refid="547" relation="include">
        </childnode>
        <childnode refid="548" relation="include">
        </childnode>
        <childnode refid="549" relation="include">
        </childnode>
      </node>
      <node id="523">
        <label>string.h</label>
      </node>
      <node id="538">
        <label>unistd.h</label>
      </node>
      <node id="547">
        <label>gsl_sd.h</label>
        <link refid="gsl__sd_8h"/>
      </node>
      <node id="526">
        <label>gsl/gsl_multimin.h</label>
      </node>
      <node id="522">
        <label>time.h</label>
      </node>
      <node id="546">
        <label>gsl_min.h</label>
        <link refid="gsl__min_8h"/>
      </node>
      <node id="541">
        <label>equations.h</label>
        <link refid="equations_8h"/>
      </node>
      <node id="545">
        <label>gsl_mod.h</label>
        <link refid="gsl__mod_8h"/>
      </node>
      <node id="534">
        <label>libxml/xpath.h</label>
      </node>
      <node id="542">
        <label>simulation.h</label>
        <link refid="simulation_8h"/>
      </node>
      <node id="536">
        <label>sys/socket.h</label>
      </node>
      <node id="548">
        <label>mpi.h</label>
      </node>
      <node id="527">
        <label>gsl/gsl_math.h</label>
      </node>
      <node id="528">
        <label>gsl/gsl_rng.h</label>
      </node>
      <node id="543">
        <label>data_parameters.h</label>
        <link refid="data__parameters_8h"/>
      </node>
      <node id="520">
        <label>stdio.h</label>
      </node>
      <node id="539">
        <label>xml_parameter.h</label>
        <link refid="xml__parameter_8h"/>
      </node>
      <node id="544">
        <label>gsl_recuit.h</label>
        <link refid="gsl__recuit_8h"/>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="mpi__load_8c_1a369266c24eacffb87046522897a570d5" prot="public" static="no">
        <name>_GNU_SOURCE</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="26" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="26" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mpi__load_8c_1aeca034f67218340ecb2261a22c2f3dcd" prot="public" static="no">
        <name>BUFSIZE</name>
        <initializer>100</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="57" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="57" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" prot="public" static="no">
        <name>MASTER_RANK</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="59" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="59" bodyend="-1"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
        <referencedby refid="mpi__load_8h_1a49f24c98f9724a9d2d64bf3b41d7c101" compoundref="mpi__load_8c" startline="154" endline="261">Mpi_master</referencedby>
        <referencedby refid="mpi__load_8h_1a73a3042b31e240b5785eed805f963212" compoundref="mpi__load_8c" startline="440" endline="520">Mpi_slave</referencedby>
        <referencedby refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</referencedby>
      </memberdef>
      <memberdef kind="define" id="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" prot="public" static="no">
        <name>WRITER_RANK</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="60" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="60" bodyend="-1"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
        <referencedby refid="mpi__load_8h_1a49f24c98f9724a9d2d64bf3b41d7c101" compoundref="mpi__load_8c" startline="154" endline="261">Mpi_master</referencedby>
        <referencedby refid="mpi__load_8h_1a73a3042b31e240b5785eed805f963212" compoundref="mpi__load_8c" startline="440" endline="520">Mpi_slave</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="mpi__load_8c_1a29a0e94b1a53bfd1da2a10cb0b232444" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int Mpi_connectInterface</definition>
        <argsstring>(int port)</argsstring>
        <name>Mpi_connectInterface</name>
        <param>
          <type>int</type>
          <declname>port</declname>
        </param>
        <briefdescription>
<para>Enter in the program for standard deviation. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>port</parametername>
</parameternamelist>
<parameterdescription>
<para>Connection port </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Socket </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="70" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="69" bodyend="101"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a39027f10a55694561083f05335d3cbbf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_disconnectInterface</definition>
        <argsstring>(int desc)</argsstring>
        <name>Mpi_disconnectInterface</name>
        <param>
          <type>int</type>
          <declname>desc</declname>
        </param>
        <briefdescription>
<para>Disconnection to the interface. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>desc</parametername>
</parameternamelist>
<parameterdescription>
<para>Socket </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="110" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="109" bodyend="113"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a15360d2e2ee4efbaa5dccd3a75510d09" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_init</definition>
        <argsstring>(int argc, char **argv, int *tab)</argsstring>
        <name>Mpi_init</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>argv</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>tab</declname>
        </param>
        <briefdescription>
<para>Enter in the program for standard deviation. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>argc</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of arguments </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>argv</parametername>
</parameternamelist>
<parameterdescription>
<para>List of arguments </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tab</parametername>
</parameternamelist>
<parameterdescription>
<para>Table </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="124" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="123" bodyend="140"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1ab20c9a4b503fb163951ea00dea50f8d3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_master</definition>
        <argsstring>(pListParameters allone, char **files_path, int activity, int group, int myid, int numprocs, int desc)</argsstring>
        <name>Mpi_master</name>
        <param>
          <type><ref refid="structListParameters" kindref="compound">pListParameters</ref></type>
          <declname>allone</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>files_path</declname>
        </param>
        <param>
          <type>int</type>
          <declname>activity</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>myid</declname>
        </param>
        <param>
          <type>int</type>
          <declname>numprocs</declname>
        </param>
        <param>
          <type>int</type>
          <declname>desc</declname>
        </param>
        <briefdescription>
<para>Master process. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allone</parametername>
</parameternamelist>
<parameterdescription>
<para>Global parameters : struct <ref refid="structListParameters" kindref="compound">ListParameters</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>files_path</parametername>
</parameternamelist>
<parameterdescription>
<para>List of paths </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>activity</parametername>
</parameternamelist>
<parameterdescription>
<para>Chosen activity </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>myid</parametername>
</parameternamelist>
<parameterdescription>
<para>Id of the thread </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>numprocs</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of thread </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>desc</parametername>
</parameternamelist>
<parameterdescription>
<para>Socket </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="155" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="154" bodyend="261"/>
        <references refid="gsl__min_8c_1a30c0e0cd742ae3ee221dc0c83a2a0752" compoundref="gsl__min_8c" startline="52">a</references>
        <references refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" compoundref="data__parameters_8h" startline="38">ListParameters::conf</references>
        <references refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" compoundref="mpi__load_8c" startline="59">MASTER_RANK</references>
        <references refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" compoundref="data__parameters_8h" startline="40">ListParameters::nb_parameters</references>
        <references refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" compoundref="mpi__load_8c" startline="60">WRITER_RANK</references>
        <references refid="xml__parameter_8c_1ade93fd888d36e908c7386f25b2836137" compoundref="xml__parameter_8c" startline="279" endline="283">Xml_getNbGroup</references>
        <references refid="xml__parameter_8c_1a503fd8e4167aef94fa22e0c71a5b6afa" compoundref="xml__parameter_8c" startline="227" endline="231">Xml_getNbSimulations</references>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a91c7d854c0f96844424b979434bcb1ab" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_writer</definition>
        <argsstring>(pListParameters allone, char **files_path, int activity, int group, int myid)</argsstring>
        <name>Mpi_writer</name>
        <param>
          <type><ref refid="structListParameters" kindref="compound">pListParameters</ref></type>
          <declname>allone</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>files_path</declname>
        </param>
        <param>
          <type>int</type>
          <declname>activity</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>myid</declname>
        </param>
        <briefdescription>
<para>Master process. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allone</parametername>
</parameternamelist>
<parameterdescription>
<para>Global parameters : struct <ref refid="structListParameters" kindref="compound">ListParameters</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>files_path</parametername>
</parameternamelist>
<parameterdescription>
<para>List of paths </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>activity</parametername>
</parameternamelist>
<parameterdescription>
<para>Chosen activity </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>myid</parametername>
</parameternamelist>
<parameterdescription>
<para>Id of the thread </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="274" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="273" bodyend="322"/>
        <references refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" compoundref="data__parameters_8h" startline="38">ListParameters::conf</references>
        <references refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" compoundref="mpi__load_8c" startline="59">MASTER_RANK</references>
        <references refid="structListParameters_1ad167c56ffa16ae7c55245c7c683bbc1c" compoundref="data__parameters_8h" startline="37">ListParameters::model</references>
        <references refid="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" compoundref="mpi__load_8c" startline="355" endline="361">Mpi_allocResultTab</references>
        <references refid="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" compoundref="mpi__load_8c" startline="334" endline="346">Mpi_sizeResultTab</references>
        <references refid="mpi__load_8c_1ade415599921ec51a178f328fcccbc361" compoundref="mpi__load_8c" startline="421" endline="429">Mpi_writeSdFile</references>
        <references refid="mpi__load_8c_1a1edb1e7ef906877b974f06a2b6b0f617" compoundref="mpi__load_8c" startline="375" endline="411">Mpi_writeSimFile</references>
        <references refid="xml__parameter_8c_1aa38353601b43859be1905fb37632fbf0" compoundref="xml__parameter_8c" startline="460" endline="464">Xml_getNbSpecies</references>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int Mpi_sizeResultTab</definition>
        <argsstring>(pListParameters allone, int activity, int group, int nb_species)</argsstring>
        <name>Mpi_sizeResultTab</name>
        <param>
          <type><ref refid="structListParameters" kindref="compound">pListParameters</ref></type>
          <declname>allone</declname>
        </param>
        <param>
          <type>int</type>
          <declname>activity</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nb_species</declname>
        </param>
        <briefdescription>
<para>Determine the size of the result tab. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allone</parametername>
</parameternamelist>
<parameterdescription>
<para>Global parameters : struct <ref refid="structListParameters" kindref="compound">ListParameters</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>activity</parametername>
</parameternamelist>
<parameterdescription>
<para>Chosen activity </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nb_species</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of interest species </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Size of Result tab </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="335" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="334" bodyend="346"/>
        <references refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" compoundref="data__parameters_8h" startline="38">ListParameters::conf</references>
        <references refid="structListParameters_1ad167c56ffa16ae7c55245c7c683bbc1c" compoundref="data__parameters_8h" startline="37">ListParameters::model</references>
        <references refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" compoundref="data__parameters_8h" startline="40">ListParameters::nb_parameters</references>
        <references refid="xml__parameter_8c_1afeff8e3300946c36cea36ddd964e9265" compoundref="xml__parameter_8c" startline="240" endline="244">Xml_getNbTriesMod</references>
        <referencedby refid="mpi__load_8h_1a73a3042b31e240b5785eed805f963212" compoundref="mpi__load_8c" startline="440" endline="520">Mpi_slave</referencedby>
        <referencedby refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double *</type>
        <definition>double * Mpi_allocResultTab</definition>
        <argsstring>(int tailleTab)</argsstring>
        <name>Mpi_allocResultTab</name>
        <param>
          <type>int</type>
          <declname>tailleTab</declname>
        </param>
        <briefdescription>
<para>Allocate the result tab. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>tailleTab</parametername>
</parameternamelist>
<parameterdescription>
<para>Size of Result tab </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Adress of the allocated space </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="356" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="355" bodyend="361"/>
        <referencedby refid="mpi__load_8h_1a73a3042b31e240b5785eed805f963212" compoundref="mpi__load_8c" startline="440" endline="520">Mpi_slave</referencedby>
        <referencedby refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a1edb1e7ef906877b974f06a2b6b0f617" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_writeSimFile</definition>
        <argsstring>(pListParameters allone, FILE *out, FILE *logOut, double *result_tab, int group, int tailleSpecies, int nb_species)</argsstring>
        <name>Mpi_writeSimFile</name>
        <param>
          <type><ref refid="structListParameters" kindref="compound">pListParameters</ref></type>
          <declname>allone</declname>
        </param>
        <param>
          <type>FILE *</type>
          <declname>out</declname>
        </param>
        <param>
          <type>FILE *</type>
          <declname>logOut</declname>
        </param>
        <param>
          <type>double *</type>
          <declname>result_tab</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>tailleSpecies</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nb_species</declname>
        </param>
        <briefdescription>
<para>Determine the size of the result tab. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allone</parametername>
</parameternamelist>
<parameterdescription>
<para>Global parameters : struct <ref refid="structListParameters" kindref="compound">ListParameters</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>out</parametername>
</parameternamelist>
<parameterdescription>
<para>Result file </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>logOut</parametername>
</parameternamelist>
<parameterdescription>
<para>Log file </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>result_tab</parametername>
</parameternamelist>
<parameterdescription>
<para>Result table </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tailleSpecies</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of species </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nb_species</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of interest species </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="376" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="375" bodyend="411"/>
        <references refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" compoundref="data__parameters_8h" startline="40">ListParameters::nb_parameters</references>
        <referencedby refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1ade415599921ec51a178f328fcccbc361" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_writeSdFile</definition>
        <argsstring>(FILE *out, double *result_tab, int tailleTab)</argsstring>
        <name>Mpi_writeSdFile</name>
        <param>
          <type>FILE *</type>
          <declname>out</declname>
        </param>
        <param>
          <type>double *</type>
          <declname>result_tab</declname>
        </param>
        <param>
          <type>int</type>
          <declname>tailleTab</declname>
        </param>
        <briefdescription>
<para>Determine the size of the result tab. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>out</parametername>
</parameternamelist>
<parameterdescription>
<para>Result file </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>result_tab</parametername>
</parameternamelist>
<parameterdescription>
<para>Result table </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tailleTab</parametername>
</parameternamelist>
<parameterdescription>
<para>Size of result table </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="422" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="421" bodyend="429"/>
        <referencedby refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a755d585e48a596f6599ce557b09c7164" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_slave</definition>
        <argsstring>(pListParameters allone, char **files_path, int activity, int group, int debug)</argsstring>
        <name>Mpi_slave</name>
        <param>
          <type><ref refid="structListParameters" kindref="compound">pListParameters</ref></type>
          <declname>allone</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>files_path</declname>
        </param>
        <param>
          <type>int</type>
          <declname>activity</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>debug</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>allone</parametername>
</parameternamelist>
<parameterdescription>
<para>Global parameters : struct <ref refid="structListParameters" kindref="compound">ListParameters</ref> </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>files_path</parametername>
</parameternamelist>
<parameterdescription>
<para>List of paths </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>activity</parametername>
</parameternamelist>
<parameterdescription>
<para>Activity chosen </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>debug</parametername>
</parameternamelist>
<parameterdescription>
<para>Debug flag </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="441" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="440" bodyend="520"/>
        <references refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" compoundref="data__parameters_8h" startline="38">ListParameters::conf</references>
        <references refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" compoundref="mpi__load_8c" startline="59">MASTER_RANK</references>
        <references refid="gsl__min_8c_1a27da5814ca1f00e95f1a4ee550b8484b" compoundref="gsl__min_8c" startline="274" endline="375">Min_compute_minimization</references>
        <references refid="gsl__mod_8c_1ae6b640decd2c333ae31603a88fc37c88" compoundref="gsl__mod_8c" startline="109" endline="167">Mod_compute_modeling</references>
        <references refid="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" compoundref="mpi__load_8c" startline="355" endline="361">Mpi_allocResultTab</references>
        <references refid="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" compoundref="mpi__load_8c" startline="334" endline="346">Mpi_sizeResultTab</references>
        <references refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" compoundref="data__parameters_8h" startline="40">ListParameters::nb_parameters</references>
        <references refid="gsl__recuit_8c_1a307fb17177314df2a79d0833be12e379" compoundref="gsl__recuit_8c" startline="304" endline="353">Recuit_compute_recuit</references>
        <references refid="gsl__sd_8c_1a1379b501622f4bc112b49be952e19022" compoundref="gsl__sd_8c" startline="106" endline="154">Sd_compute_standard_deviation</references>
        <references refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" compoundref="mpi__load_8c" startline="60">WRITER_RANK</references>
        <references refid="xml__parameter_8c_1af051a5017271240c72cad70ee82b6af7" compoundref="xml__parameter_8c" startline="305" endline="309">Xml_getBoltzmann</references>
        <references refid="xml__parameter_8c_1a9e2c04caf11e5a95f5aa22f6f37f479d" compoundref="xml__parameter_8c" startline="331" endline="335">Xml_getMuT</references>
        <references refid="xml__parameter_8c_1ae49d86627f34fb18c996a3060e2a297a" compoundref="xml__parameter_8c" startline="266" endline="270">Xml_getNbIters</references>
        <references refid="xml__parameter_8c_1aa38353601b43859be1905fb37632fbf0" compoundref="xml__parameter_8c" startline="460" endline="464">Xml_getNbSpecies</references>
        <references refid="xml__parameter_8c_1a7b67ce794add8c04563e07f9d25c6096" compoundref="xml__parameter_8c" startline="253" endline="257">Xml_getNbTriesSa</references>
        <references refid="xml__parameter_8c_1a1770352729facbccf4b8fb288551ebbb" compoundref="xml__parameter_8c" startline="292" endline="296">Xml_getStepSize</references>
        <references refid="xml__parameter_8c_1ab2406faab9296a45cc596beec457f268" compoundref="xml__parameter_8c" startline="318" endline="322">Xml_getTinitial</references>
        <references refid="xml__parameter_8c_1a9401fbdd3c314c0e729c9a278a6e2805" compoundref="xml__parameter_8c" startline="344" endline="348">Xml_getTmin</references>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1a68f6a4d5212d2eb5e853f8ab5d3f0f97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Mpi_finalize</definition>
        <argsstring>(void)</argsstring>
        <name>Mpi_finalize</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>End MPI execution environment. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="528" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="527" bodyend="532"/>
        <referencedby refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" compoundref="mpi__load_8c" startline="546" endline="579">compute_mpi</referencedby>
      </memberdef>
      <memberdef kind="function" id="mpi__load_8c_1ab21a58c6a683b07418fdb9847021e973" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void compute_mpi</definition>
        <argsstring>(int argc, char **argv, char **files_path, int activity, int group, int debug, int port)</argsstring>
        <name>compute_mpi</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>argv</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>files_path</declname>
        </param>
        <param>
          <type>int</type>
          <declname>activity</declname>
        </param>
        <param>
          <type>int</type>
          <declname>group</declname>
        </param>
        <param>
          <type>int</type>
          <declname>debug</declname>
        </param>
        <param>
          <type>int</type>
          <declname>port</declname>
        </param>
        <briefdescription>
<para>Compute the simulated annealing through mpi. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="author"><para>Amine Ghozlane </para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>argc</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of arguments </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>argv</parametername>
</parameternamelist>
<parameterdescription>
<para>List of arguments </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>files_path</parametername>
</parameternamelist>
<parameterdescription>
<para>List of paths </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>activity</parametername>
</parameternamelist>
<parameterdescription>
<para>Chosen activity </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>group</parametername>
</parameternamelist>
<parameterdescription>
<para>Group flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>debug</parametername>
</parameternamelist>
<parameterdescription>
<para>Debug flag </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>port</parametername>
</parameternamelist>
<parameterdescription>
<para>Interface port </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" line="547" bodyfile="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c" bodystart="546" bodyend="579"/>
        <references refid="data__parameters_8c_1a2f07353fedc54fb1a4c41e2e63864582" compoundref="data__parameters_8c" startline="463" endline="492">Data_desallocation</references>
        <references refid="data__parameters_8c_1a84a6f4f7e4b51ce3fe9e21f00698cd67" compoundref="data__parameters_8c" startline="442" endline="455">Data_parameters</references>
        <references refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" compoundref="mpi__load_8c" startline="59">MASTER_RANK</references>
        <references refid="mpi__load_8c_1a29a0e94b1a53bfd1da2a10cb0b232444" compoundref="mpi__load_8c" startline="69" endline="101">Mpi_connectInterface</references>
        <references refid="mpi__load_8c_1a39027f10a55694561083f05335d3cbbf" compoundref="mpi__load_8c" startline="109" endline="113">Mpi_disconnectInterface</references>
        <references refid="mpi__load_8c_1a68f6a4d5212d2eb5e853f8ab5d3f0f97" compoundref="mpi__load_8c" startline="527" endline="532">Mpi_finalize</references>
        <references refid="mpi__load_8c_1a15360d2e2ee4efbaa5dccd3a75510d09" compoundref="mpi__load_8c" startline="123" endline="140">Mpi_init</references>
        <references refid="mpi__load_8c_1ab20c9a4b503fb163951ea00dea50f8d3" compoundref="mpi__load_8c" startline="154" endline="261">Mpi_master</references>
        <references refid="mpi__load_8c_1a755d585e48a596f6599ce557b09c7164" compoundref="mpi__load_8c" startline="440" endline="520">Mpi_slave</references>
        <references refid="mpi__load_8c_1a91c7d854c0f96844424b979434bcb1ab" compoundref="mpi__load_8c" startline="273" endline="322">Mpi_writer</references>
        <references refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" compoundref="mpi__load_8c" startline="60">WRITER_RANK</references>
        <referencedby refid="MetaBoFlux_8c_1a3c04138a5bfe5d72780bb7e82a18e627" compoundref="MetaBoFlux_8c" startline="399" endline="425">main</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Parallelize the program. </para>    </briefdescription>
    <detaileddescription>
<para>This file is part of MetaBoFlux (<ulink url="http://www.cbib.u-bordeaux2.fr/metaboflux/">http://www.cbib.u-bordeaux2.fr/metaboflux/</ulink>) Copyright (C) 2010 Amine Ghozlane from LaBRI and University of Bordeaux 1</para><para>MetaBoFlux is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</para><para>MetaBoFlux is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</para><para>You should have received a copy of the GNU Lesser General Public License along with this program. If not, see &lt;<ulink url="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</ulink>&gt;.</para><para><simplesect kind="author"><para>{Amine Ghozlane} </para></simplesect>
<simplesect kind="version"><para>2.0 </para></simplesect>
<simplesect kind="date"><para>9 novembre 2009 </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="26" refid="mpi__load_8c_1a369266c24eacffb87046522897a570d5" refkind="member"><highlight class="preprocessor">#define<sp/>_GNU_SOURCE</highlight></codeline>
<codeline lineno="27"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;time.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;assert.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_blas.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_multimin.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_rng.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_siman.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_ieee_utils.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gsl/gsl_statistics_double.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sbml/SBMLTypes.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;libxml/parser.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;libxml/xpath.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/types.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/socket.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;netinet/in.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;unistd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="xml__parameter_8h" kindref="compound" tooltip="Xml reader for parametre.xml.">xml_parameter.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="especes_8h" kindref="compound" tooltip="Modelize a molecule.">especes.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="equations_8h" kindref="compound" tooltip="Processes an equation in MathML format.">equations.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="simulation_8h" kindref="compound" tooltip="Simulate a petri net.">simulation.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="data__parameters_8h" kindref="compound" tooltip="Load data parameters.">data_parameters.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="gsl__recuit_8h" kindref="compound" tooltip="Compute the simulated annealing.">gsl_recuit.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="gsl__mod_8h" kindref="compound" tooltip="Compute the modeling of scenarii.">gsl_mod.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="gsl__min_8h" kindref="compound" tooltip="Compute minimization of scenarii.">gsl_min.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="gsl__sd_8h" kindref="compound" tooltip="Compute the standard deviation analysis of the simulations.">gsl_sd.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;mpi.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="mpi__load_8h" kindref="compound" tooltip="Parallelize the program.">mpi_load.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="mpi__load_8c_1aeca034f67218340ecb2261a22c2f3dcd" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUFSIZE<sp/>100</highlight></codeline>
<codeline lineno="58"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MASTER_RANK<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Rang<sp/>du<sp/>master<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WRITER_RANK<sp/>1</highlight></codeline>
<codeline lineno="61"><highlight class="preprocessor"></highlight></codeline>
<codeline lineno="69" refid="mpi__load_8h_1afc95cdfc5153ccd5954a98aa7961a626" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a29a0e94b1a53bfd1da2a10cb0b232444" kindref="member" tooltip="Enter in the program for standard deviation.">Mpi_connectInterface</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>port)</highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Connexion<sp/>a<sp/>l&apos;interface<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">sockaddr_in<sp/>adresse;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>desc=0;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Creation<sp/>de<sp/>la<sp/>socket<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((desc=socket(AF_INET,SOCK_STREAM,0))<sp/>==<sp/>-1){</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;Creation<sp/>de<sp/>socket<sp/>impossible\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;Creation<sp/>de<sp/>socket<sp/>impossible\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>EXIT_FAILURE;</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Preparation<sp/>de<sp/>l&apos;adresse<sp/>d&apos;attachement<sp/>=<sp/>adresse<sp/>IP<sp/>Internet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/>adresse.sin_family=AF_INET;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Indication<sp/>de<sp/>l&apos;adresse<sp/>IP<sp/>locale<sp/>de<sp/>la<sp/>socket<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Conversion<sp/>(representation<sp/>interne)<sp/>-&gt;<sp/>(reseau)<sp/>avec<sp/>htonl<sp/>et<sp/>htons<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/>adresse.sin_addr.s_addr=htonl(INADDR_ANY);<sp/></highlight><highlight class="comment">/*<sp/>toutes<sp/>les<sp/>interfaces<sp/>presentes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Indication<sp/>du<sp/>port<sp/>local<sp/>de<sp/>la<sp/>socket<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>si<sp/>port<sp/>=<sp/>0,<sp/>l&apos;adresse<sp/>sera<sp/>choisie<sp/>au<sp/>hasard<sp/>par<sp/>le<sp/>système<sp/>au<sp/>dessus<sp/>de<sp/>1024<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/>adresse.sin_port=htons(port);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Connexion<sp/>de<sp/>la<sp/>socket<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(connect(desc,(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>sockaddr*)&amp;adresse,</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(adresse))<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;Impossible<sp/>de<sp/>connecter<sp/>au<sp/>serveur\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;Impossible<sp/>de<sp/>connecter<sp/>au<sp/>serveur\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>EXIT_FAILURE;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>desc;</highlight></codeline>
<codeline lineno="101"><highlight class="normal">}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="mpi__load_8h_1ad7fe2a9dd47b4a4353fe4a95e443969a" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a39027f10a55694561083f05335d3cbbf" kindref="member" tooltip="Disconnection to the interface.">Mpi_disconnectInterface</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>desc)</highlight></codeline>
<codeline lineno="110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Deconnexion<sp/>de<sp/>l&apos;interface<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/>close(desc);</highlight></codeline>
<codeline lineno="113"><highlight class="normal">}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="mpi__load_8h_1aa10a38be940ec3edbe44b5b5108e5e87" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a15360d2e2ee4efbaa5dccd3a75510d09" kindref="member" tooltip="Enter in the program for standard deviation.">Mpi_init</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**argv,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*tab)</highlight></codeline>
<codeline lineno="124"><highlight class="normal">{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialisation<sp/>de<sp/>MPI<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>namelen;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>processor_name[MPI_MAX_PROCESSOR_NAME];</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialise<sp/>l&apos;execution<sp/>de<sp/>l&apos;environnement<sp/>MPI<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/>MPI_Init(<sp/>&amp;argc,<sp/>&amp;argv<sp/>);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>le<sp/>nombre<sp/>de<sp/>processus<sp/>associes<sp/>au<sp/>communicateur<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/>MPI_Comm_size(MPI_COMM_WORLD,&amp;tab[1]);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>le<sp/>rank<sp/>du<sp/>processus<sp/>associe<sp/>au<sp/>communicateur<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/>MPI_Comm_rank(MPI_COMM_WORLD,&amp;tab[0]);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Determine<sp/>le<sp/>nom<sp/>du<sp/>processeur<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/>MPI_Get_processor_name(processor_name,&amp;namelen);</highlight></codeline>
<codeline lineno="140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="154" refid="mpi__load_8h_1a49f24c98f9724a9d2d64bf3b41d7c101" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1ab20c9a4b503fb163951ea00dea50f8d3" kindref="member" tooltip="Master process.">Mpi_master</ref>(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**files_path,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>activity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>myid,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numprocs,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>desc)</highlight></codeline>
<codeline lineno="155"><highlight class="normal">{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Processus<sp/>Maitre<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/>FILE<sp/>*ratioFile=NULL;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*tabRatio=NULL;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0,j=0,k=0,count=0,<sp/>destination=0,<sp/>sender=0,<sp/>request=0,<sp/>answer=0,row=0,<sp/>operation=0,<sp/>proc=0,<ref refid="gsl__min_8c_1a30c0e0cd742ae3ee221dc0c83a2a0752" kindref="member">a</ref>=0;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*double<sp/>startwtime<sp/>=<sp/>0.0,<sp/>endwtime=0.0;*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>s[255];</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/>MPI_Status<sp/>status;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lecture<sp/>du<sp/>nombre<sp/>d&apos;operation<sp/>a<sp/>realiser<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(group)<sp/>operation=<ref refid="xml__parameter_8c_1ade93fd888d36e908c7386f25b2836137" kindref="member" tooltip="Get number of group.">Xml_getNbGroup</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>operation=<ref refid="xml__parameter_8c_1a503fd8e4167aef94fa22e0c71a5b6afa" kindref="member" tooltip="Get number of simulation.">Xml_getNbSimulations</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ouverture<sp/>du<sp/>fichier<sp/>de<sp/>ratio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity==2<sp/>||activity==3<sp/>||activity==4){</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((ratioFile=fopen(files_path[3],</highlight><highlight class="stringliteral">&quot;rt&quot;</highlight><highlight class="normal">))==NULL){</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;Erreur<sp/>d&apos;ouverture<sp/>du<sp/>fichier<sp/>de<sp/>ratio\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tabRatio=(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*)malloc((allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>)*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(double));</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Debut<sp/>du<sp/>chronometre<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>startwtime<sp/>=<sp/>MPI_Wtime();*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Message<sp/>de<sp/>broadcast<sp/>initiant<sp/>les<sp/>processus<sp/>esclaves<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>MPI_Bcast(&amp;operation,<sp/>1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>leur<sp/>indice<sp/>de<sp/>tache*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(destination<sp/>=<sp/>0;<sp/>destination<sp/>&lt;<sp/>numprocs;<sp/>destination++)<sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(destination<sp/>!=<sp/>myid)<sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity==1){</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(&amp;request,1,MPI_INT,<sp/>destination,<sp/>count,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k++;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count<sp/>=<sp/>count<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proc<sp/>=<sp/>proc<sp/>+1;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(destination!=<ref refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" kindref="member">WRITER_RANK</ref>){</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(&amp;request,1,MPI_INT,<sp/>destination,<sp/>count,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k++;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*Lecture<sp/>des<sp/>ratio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(j=0;j&lt;allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>;j++){</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__min_8c_1a30c0e0cd742ae3ee221dc0c83a2a0752" kindref="member">a</ref>=fscanf(ratioFile,</highlight><highlight class="stringliteral">&quot;%lf\t&quot;</highlight><highlight class="normal">,&amp;tabRatio[j]);</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>des<sp/>ratio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(tabRatio,<sp/>allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>,<sp/>MPI_DOUBLE,<sp/><sp/>destination,<sp/>count,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count<sp/>=<sp/>count<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proc<sp/>=<sp/>proc<sp/>+1;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>doit<sp/>faire<sp/>x<sp/>fois<sp/>la<sp/>tache<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/>i=0;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity==1)<sp/>count<sp/>=<sp/>numprocs-2;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>count<sp/>=<sp/>numprocs-3;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(i&lt;operation&amp;&amp;proc&gt;0){</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Attend<sp/>les<sp/>confirmations<sp/>de<sp/>fin<sp/>de<sp/>tache*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(&amp;answer,1,<sp/>MPI_INT,<sp/>MPI_ANY_SOURCE,MPI_ANY_TAG,<sp/>MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>proc<sp/>=<sp/>proc<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Chargement<sp/>du<sp/>status<sp/>de<sp/>l&apos;esclave<sp/>qui<sp/>a<sp/>termine<sp/>sa<sp/>tache<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sender<sp/>=<sp/>status.MPI_SOURCE;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>row<sp/>=<sp/>status.MPI_TAG;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lancement<sp/>d&apos;un<sp/>calcul<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i&lt;operation){</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count<sp/>=<sp/>count<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;(%d/%d)\n&quot;</highlight><highlight class="normal">,i,operation);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(s,<sp/></highlight><highlight class="stringliteral">&quot;(%i/%i)&quot;</highlight><highlight class="normal">,i,operation);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>send(desc,s,strlen(s),0);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k++;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>d&apos;une<sp/>nouvelle<sp/>tache<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(k&lt;=operation<sp/>&amp;&amp;<sp/><ref refid="gsl__min_8c_1a30c0e0cd742ae3ee221dc0c83a2a0752" kindref="member">a</ref>!=-1){</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(&amp;request,<sp/>1,<sp/>MPI_INT,<sp/>sender,<sp/>count,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>des<sp/>ratios<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity!=1){</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lecture<sp/>des<sp/>ratios<sp/>du<sp/>fichier<sp/>ratio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(j=0;j&lt;allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>;j++){</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__min_8c_1a30c0e0cd742ae3ee221dc0c83a2a0752" kindref="member">a</ref>=fscanf(ratioFile,</highlight><highlight class="stringliteral">&quot;%lf\t&quot;</highlight><highlight class="normal">,&amp;tabRatio[j]);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>des<sp/>ratios<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(tabRatio,<sp/>allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>,<sp/>MPI_DOUBLE,<sp/>sender,<sp/>count,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proc=proc+1;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Termine<sp/>les<sp/>processus<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(destination<sp/>=<sp/>0;<sp/>destination<sp/>&lt;<sp/>numprocs;<sp/>destination++)<sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(destination<sp/>!=<sp/>myid)<sp/>{</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(&amp;request,<sp/>0,<sp/>MPI_INT,<sp/>destination,operation,MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity==2<sp/>||activity==3<sp/>||activity==4){</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>free(tabRatio);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fclose(ratioFile);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal">}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="273" refid="mpi__load_8h_1a4cf3597a859457305000e2168f205993" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a91c7d854c0f96844424b979434bcb1ab" kindref="member" tooltip="Master process.">Mpi_writer</ref>(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**files_path,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>activity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>myid)</highlight></codeline>
<codeline lineno="274"><highlight class="normal">{</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Processus<sp/>ecrivain<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/>FILE<sp/>*out=NULL,<sp/>*logOut=NULL;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>answer=0,<sp/>operation=0,<sp/>i=0,<sp/>tailleTab=0,<sp/>tailleSpecies=(int)Model_getNumSpecies(allone-&gt;<ref refid="structListParameters_1ad167c56ffa16ae7c55245c7c683bbc1c" kindref="member">model</ref>),nb_species=<ref refid="xml__parameter_8c_1aa38353601b43859be1905fb37632fbf0" kindref="member" tooltip="Get the number of species.">Xml_getNbSpecies</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*result_tab=NULL;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/>MPI_Status<sp/>status;<sp/>MPI_Request<sp/>req;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocation<sp/>du<sp/>tableau<sp/>de<sp/>resultats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/>tailleTab=<ref refid="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" kindref="member" tooltip="Determine the size of the result tab.">Mpi_sizeResultTab</ref>(allone,<sp/>activity,<sp/>group,<sp/>nb_species);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/>result_tab=<ref refid="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" kindref="member" tooltip="Allocate the result tab.">Mpi_allocResultTab</ref>(tailleTab);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Min<sp/>and<sp/>Mod<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity!=4){</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sortie<sp/>du<sp/>log<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((logOut=fopen(files_path[5],</highlight><highlight class="stringliteral">&quot;at&quot;</highlight><highlight class="normal">))==NULL){</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;ERROR<sp/>FILE\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sortie<sp/>des<sp/>resultats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((out=fopen(files_path[4],</highlight><highlight class="stringliteral">&quot;at&quot;</highlight><highlight class="normal">))==NULL){</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;ERROR<sp/>FILE\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>du<sp/>message<sp/>de<sp/>Broadcast<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/>MPI_Bcast(&amp;operation,<sp/>1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(i<sp/>&lt;<sp/>operation)<sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(result_tab,tailleTab,<sp/>MPI_DOUBLE,<sp/>MPI_ANY_SOURCE,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ecriture<sp/>modeling<sp/>/<sp/>minimization<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity!=4){</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mpi__load_8c_1a1edb1e7ef906877b974f06a2b6b0f617" kindref="member" tooltip="Determine the size of the result tab.">Mpi_writeSimFile</ref>(allone,<sp/>out,<sp/>logOut,<sp/>result_tab,<sp/>group,<sp/>tailleSpecies,<sp/>nb_species);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ecriture<sp/>standard<sp/>deviation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><sp/><ref refid="mpi__load_8c_1ade415599921ec51a178f328fcccbc361" kindref="member" tooltip="Determine the size of the result tab.">Mpi_writeSdFile</ref>(out,<sp/>result_tab,<sp/>tailleTab);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Mise<sp/>en<sp/>attente<sp/>d&apos;un<sp/>message<sp/>de<sp/>poursuite<sp/>ou<sp/>de<sp/>fin<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/>MPI_Irecv<sp/>(&amp;answer,1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/><sp/>&amp;req);</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Fermeture<sp/>des<sp/>fichiers<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(out!=NULL)fclose(out);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(logOut!=NULL)fclose(logOut);</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Desallocation<sp/>de<sp/>la<sp/>memoire<sp/>du<sp/>tableau<sp/>de<sp/>resultat<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(result_tab!=NULL)<sp/>free(result_tab);</highlight></codeline>
<codeline lineno="322"><highlight class="normal">}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="334" refid="mpi__load_8h_1ab4d2e0de3a14f863a405bddfa625b8bd" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" kindref="member" tooltip="Determine the size of the result tab.">Mpi_sizeResultTab</ref>(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>activity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nb_species)</highlight></codeline>
<codeline lineno="335"><highlight class="normal">{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tailleTab=0;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Cas<sp/>standard<sp/>deviation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity==4)<sp/>tailleTab=2+<ref refid="xml__parameter_8c_1afeff8e3300946c36cea36ddd964e9265" kindref="member" tooltip="Get number of tries for modelling.">Xml_getNbTriesMod</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>);</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Cas<sp/>modeling<sp/>and<sp/>minimization<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(activity!=1){</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Cas<sp/>des<sp/>groupes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(group)<sp/>tailleTab=2+(int)Model_getNumSpecies(allone-&gt;<ref refid="structListParameters_1ad167c56ffa16ae7c55245c7c683bbc1c" kindref="member">model</ref>)+allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>+nb_species;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>tailleTab=1+(int)Model_getNumSpecies(allone-&gt;<ref refid="structListParameters_1ad167c56ffa16ae7c55245c7c683bbc1c" kindref="member">model</ref>)+allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>+nb_species;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tailleTab;</highlight></codeline>
<codeline lineno="346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="355" refid="mpi__load_8h_1aa305e4bef7acf975da871190b8e3e1d2" refkind="member"><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*<ref refid="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" kindref="member" tooltip="Allocate the result tab.">Mpi_allocResultTab</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tailleTab)</highlight></codeline>
<codeline lineno="356"><highlight class="normal">{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*result_tab=NULL;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/>result_tab=(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*)malloc(tailleTab*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/>assert(result_tab!=NULL);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result_tab;</highlight></codeline>
<codeline lineno="361"><highlight class="normal">}</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="375" refid="mpi__load_8h_1aa753112f6c21ff66c1c63f511ccbb325" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a1edb1e7ef906877b974f06a2b6b0f617" kindref="member" tooltip="Determine the size of the result tab.">Mpi_writeSimFile</ref>(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone,<sp/>FILE<sp/>*out,<sp/>FILE<sp/>*logOut,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*result_tab,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tailleSpecies,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nb_species)</highlight></codeline>
<codeline lineno="376"><highlight class="normal">{</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Sortie<sp/>du<sp/>resultat<sp/>des<sp/>simulations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,j=0;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affichage<sp/>du<sp/>numero<sp/>de<sp/>groupe<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(group){</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;H%.0f\t&quot;</highlight><highlight class="normal">,result_tab[j]);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(logOut,</highlight><highlight class="stringliteral">&quot;H%.0f\t&quot;</highlight><highlight class="normal">,result_tab[j]);</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>j++;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affiche<sp/>l&apos;energie<sp/>du<sp/>systeme<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;%.3f\t&quot;</highlight><highlight class="normal">,result_tab[j]);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(logOut,</highlight><highlight class="stringliteral">&quot;%.3f\t&quot;</highlight><highlight class="normal">,result_tab[j]);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/>j++;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affiche<sp/>la<sp/>quantite<sp/>des<sp/>especes<sp/>etudiees<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=j;i&lt;(j+nb_species);i++){</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;%.0f\t&quot;</highlight><highlight class="normal">,<sp/>result_tab[i]);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/>j+=nb_species;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Impression<sp/>des<sp/>quantites<sp/>de<sp/>toutes<sp/>les<sp/>especes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=j;i&lt;(j+tailleSpecies);i++){</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(logOut,</highlight><highlight class="stringliteral">&quot;%.0f\t&quot;</highlight><highlight class="normal">,result_tab[i]);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>j+=tailleSpecies;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affiche<sp/>les<sp/>ratios<sp/>identifies<sp/>pour<sp/>les<sp/>reactions<sp/>du<sp/>systeme<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>j;<sp/>i<sp/>&lt;<sp/>(j+allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>);<sp/>i++){</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;%.2f\t&quot;</highlight><highlight class="normal">,result_tab[i]);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(logOut,</highlight><highlight class="stringliteral">&quot;%.2f\t&quot;</highlight><highlight class="normal">,result_tab[i]);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/>fprintf(logOut,</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="421" refid="mpi__load_8h_1a3f0c05e595da1760ed46a5f5f978a704" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1ade415599921ec51a178f328fcccbc361" kindref="member" tooltip="Determine the size of the result tab.">Mpi_writeSdFile</ref>(FILE<sp/>*out,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*result_tab,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tailleTab)</highlight></codeline>
<codeline lineno="422"><highlight class="normal">{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ecriture<sp/>standard<sp/>deviation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Affichage<sp/>de<sp/>l&apos;energie<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=2;i&lt;tailleTab;i++){</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(out,</highlight><highlight class="stringliteral">&quot;%.0f<sp/>%.3f<sp/>%.3f\n&quot;</highlight><highlight class="normal">,result_tab[0],result_tab[i],result_tab[1]);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="429"><highlight class="normal">}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="440" refid="mpi__load_8h_1a73a3042b31e240b5785eed805f963212" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a755d585e48a596f6599ce557b09c7164" kindref="member">Mpi_slave</ref>(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**files_path,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>activity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>debug)</highlight></codeline>
<codeline lineno="441"><highlight class="normal">{</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Processus<sp/>esclave<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>row=0,<sp/>request=0,<sp/>answer=0,<sp/>operation,<sp/>tailleTab=0,<sp/>nb_species=<ref refid="xml__parameter_8c_1aa38353601b43859be1905fb37632fbf0" kindref="member" tooltip="Get the number of species.">Xml_getNbSpecies</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),<sp/>flag=0;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*fluxRatio=NULL,<sp/>*result_tab=NULL;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/>MPI_Status<sp/>status;<sp/></highlight><highlight class="comment">/*MPI_Request<sp/>req;*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/>gsl_siman_params_t<sp/>params<sp/>=<sp/>{<ref refid="xml__parameter_8c_1a7b67ce794add8c04563e07f9d25c6096" kindref="member" tooltip="Get number of tries for the simulated annealing and minimization.">Xml_getNbTriesSa</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),<ref refid="xml__parameter_8c_1ae49d86627f34fb18c996a3060e2a297a" kindref="member" tooltip="Get number of iteration.">Xml_getNbIters</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xml__parameter_8c_1a1770352729facbccf4b8fb288551ebbb" kindref="member" tooltip="Get the step size.">Xml_getStepSize</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),<ref refid="xml__parameter_8c_1af051a5017271240c72cad70ee82b6af7" kindref="member" tooltip="Get the Boltzmann value.">Xml_getBoltzmann</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),<sp/><ref refid="xml__parameter_8c_1ab2406faab9296a45cc596beec457f268" kindref="member" tooltip="Get the initial temperature.">Xml_getTinitial</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xml__parameter_8c_1a9e2c04caf11e5a95f5aa22f6f37f479d" kindref="member" tooltip="Get the variation of temperature.">Xml_getMuT</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>),<sp/><ref refid="xml__parameter_8c_1a9401fbdd3c314c0e729c9a278a6e2805" kindref="member" tooltip="Get the minimum temperature.">Xml_getTmin</ref>(allone-&gt;<ref refid="structListParameters_1a96adc4ee0346b24efd2139d3768be76e" kindref="member">conf</ref>)};</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Alloc<sp/>flux<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/>fluxRatio=(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">*)malloc(allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/>assert(fluxRatio!=NULL);</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>du<sp/>message<sp/>de<sp/>Broadcast<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/>MPI_Bcast(&amp;operation,<sp/>1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>de<sp/>son<sp/>tag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/>MPI_Recv(&amp;answer,<sp/>1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocation<sp/>du<sp/>tableau<sp/>de<sp/>resultats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/>tailleTab=<ref refid="mpi__load_8c_1ada1c9a2e47c832b4c9e3d372d6caf9ee" kindref="member" tooltip="Determine the size of the result tab.">Mpi_sizeResultTab</ref>(allone,<sp/>activity,<sp/>group,nb_species);</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/>result_tab=<ref refid="mpi__load_8c_1a51abf0d1cf9db4db8341178dd9ecaba0" kindref="member" tooltip="Allocate the result tab.">Mpi_allocResultTab</ref>(tailleTab);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Debut<sp/>calcul*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(status.MPI_TAG<sp/>&lt;<sp/>operation)<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>The<sp/>job<sp/>is<sp/>not<sp/>finished<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/>row<sp/>=<sp/>status.MPI_TAG;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>request=0;</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lancement<sp/>du<sp/>calcul<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(activity){</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1:</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Simulated<sp/>annealing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__recuit_8c_1a307fb17177314df2a79d0833be12e379" kindref="member" tooltip="Compute the simulated annealing.">Recuit_compute_recuit</ref>(<sp/>files_path,<sp/>debug,<sp/>row,<sp/>allone,<sp/>params);</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>2:</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>flag=0;</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>des<sp/>ratios<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(fluxRatio,allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Minimization<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__min_8c_1a27da5814ca1f00e95f1a4ee550b8484b" kindref="member" tooltip="Compute the minimization.">Min_compute_minimization</ref>(allone,<sp/>fluxRatio,<sp/>result_tab,<sp/>files_path,<sp/>row,<sp/>debug);</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(result_tab,<sp/>tailleTab,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" kindref="member">WRITER_RANK</ref>,<sp/>row,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>3:</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>flag=0;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>des<sp/>ratios<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(fluxRatio,allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Modelling<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__mod_8c_1ae6b640decd2c333ae31603a88fc37c88" kindref="member" tooltip="Compute the modeling.">Mod_compute_modeling</ref>(allone,<sp/>fluxRatio,<sp/>result_tab,<sp/>files_path,<sp/>row,<sp/>group,<sp/>debug);</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(result_tab,<sp/>tailleTab,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" kindref="member">WRITER_RANK</ref>,<sp/>row,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>4:</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>flag=0;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reception<sp/>des<sp/>ratios<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(fluxRatio,allone-&gt;<ref refid="structListParameters_1a079cdc6651256ac5ee10e546fc01ebba" kindref="member">nb_parameters</ref>,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Standard<sp/>deviation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="gsl__sd_8c_1a1379b501622f4bc112b49be952e19022" kindref="member" tooltip="Compute the standard deviation.">Sd_compute_standard_deviation</ref>(allone,<sp/>fluxRatio,<sp/>result_tab,<sp/>files_path,<sp/>row,<sp/>debug);</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MPI_Send(result_tab,<sp/>tailleTab,<sp/>MPI_DOUBLE,<sp/><ref refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" kindref="member">WRITER_RANK</ref>,<sp/>row,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;Erreur<sp/>:<sp/>activite<sp/>%d<sp/>inconnue\n&quot;</highlight><highlight class="normal">,activity);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Confirme<sp/>qu&apos;il<sp/>a<sp/>termine<sp/>son<sp/>calcul<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/>request=1;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>MPI_Send<sp/>(&amp;request,<sp/>1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>row,<sp/>MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Mise<sp/>en<sp/>attente<sp/>d&apos;un<sp/>message<sp/>de<sp/>poursuite<sp/>ou<sp/>de<sp/>fin<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/>MPI_Recv<sp/>(&amp;answer,1,<sp/>MPI_INT,<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>,<sp/>MPI_ANY_TAG,MPI_COMM_WORLD,<sp/>&amp;status);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Desallocation<sp/>de<sp/>la<sp/>memoire<sp/>du<sp/>tableau<sp/>de<sp/>parametres<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(fluxRatio!=NULL)<sp/>free(fluxRatio);</highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Desallocation<sp/>de<sp/>la<sp/>memoire<sp/>du<sp/>tableau<sp/>de<sp/>resultat<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(result_tab!=NULL)<sp/>free(result_tab);</highlight></codeline>
<codeline lineno="520"><highlight class="normal">}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="527" refid="mpi__load_8h_1a68f6a4d5212d2eb5e853f8ab5d3f0f97" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a68f6a4d5212d2eb5e853f8ab5d3f0f97" kindref="member" tooltip="End MPI execution environment.">Mpi_finalize</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="528"><highlight class="normal">{</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Termine<sp/>l&apos;execution<sp/>de<sp/>l&apos;environnement<sp/>MPI<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/>MPI_Barrier(MPI_COMM_WORLD);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/>MPI_Finalize();</highlight></codeline>
<codeline lineno="532"><highlight class="normal">}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="546" refid="mpi__load_8h_1afeea8538ec6091c216e0d58a4b4ac9f1" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1ab21a58c6a683b07418fdb9847021e973" kindref="member" tooltip="Compute the simulated annealing through mpi.">compute_mpi</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**argv,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**files_path,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>activity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>group,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>debug,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>port)</highlight></codeline>
<codeline lineno="547"><highlight class="normal">{</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lance<sp/>le<sp/>calcul<sp/>du<sp/>recuit<sp/>simule<sp/>par<sp/>les<sp/>methodes<sp/>mpi<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">pListParameters</ref><sp/>allone=NULL;</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tab[2]={0,0},<sp/>desc=0,<sp/>pid=(int)getpid();</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>s[255];</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Connexion<sp/>a<sp/>l&apos;interface<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(port!=0)<sp/>desc=<ref refid="mpi__load_8c_1a29a0e94b1a53bfd1da2a10cb0b232444" kindref="member" tooltip="Enter in the program for standard deviation.">Mpi_connectInterface</ref>(port);</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/>setvbuf(<sp/>stdout,<sp/>NULL,<sp/>_IONBF,<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialisation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/>allone=(<ref refid="data__parameters_8h_1a2ba0d92b5cdc7e1714b06db48f9ec6a8" kindref="member">pListParameters</ref>)malloc(1*</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structListParameters" kindref="compound" tooltip="Global list parameters.">ListParameters</ref>));</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Chargement<sp/>des<sp/>parametres<sp/>de<sp/>simulation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><ref refid="data__parameters_8c_1a84a6f4f7e4b51ce3fe9e21f00698cd67" kindref="member" tooltip="Record parameters of the simulation.">Data_parameters</ref>(allone,<sp/>files_path);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Envoie<sp/>des<sp/>pids<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/>sprintf(s,<sp/></highlight><highlight class="stringliteral">&quot;%i&quot;</highlight><highlight class="normal">,<sp/>pid);</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/>send(desc,s,strlen(s),0);</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lancement<sp/>de<sp/>la<sp/>procedure<sp/>mpi<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><ref refid="mpi__load_8c_1a15360d2e2ee4efbaa5dccd3a75510d09" kindref="member" tooltip="Enter in the program for standard deviation.">Mpi_init</ref>(argc,<sp/>argv,<sp/>tab);</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tab[0]<sp/>==<sp/><ref refid="mpi__load_8c_1a4a2abf072bca55839a7b44d7fb8725cd" kindref="member">MASTER_RANK</ref>)<sp/><ref refid="mpi__load_8c_1ab20c9a4b503fb163951ea00dea50f8d3" kindref="member" tooltip="Master process.">Mpi_master</ref>(allone,<sp/>files_path,<sp/>activity,<sp/>group,tab[0],<sp/>tab[1],<sp/>desc);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tab[0]<sp/>==<sp/><ref refid="mpi__load_8c_1a33ea34b416087435ccea71727d4257cc" kindref="member">WRITER_RANK</ref><sp/>&amp;&amp;activity!=1)<sp/><ref refid="mpi__load_8c_1a91c7d854c0f96844424b979434bcb1ab" kindref="member" tooltip="Master process.">Mpi_writer</ref>(allone,<sp/>files_path,<sp/>activity,<sp/>group,<sp/>tab[0]);</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="mpi__load_8c_1a755d585e48a596f6599ce557b09c7164" kindref="member">Mpi_slave</ref>(allone,<sp/>files_path,<sp/>activity,<sp/>group,<sp/>debug);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Finalisation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><ref refid="mpi__load_8c_1a68f6a4d5212d2eb5e853f8ab5d3f0f97" kindref="member" tooltip="End MPI execution environment.">Mpi_finalize</ref>();</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Desallocation<sp/>memoire<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><ref refid="data__parameters_8c_1a2f07353fedc54fb1a4c41e2e63864582" kindref="member" tooltip="Free memory allocated to the various objects of the program.">Data_desallocation</ref>(allone);</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><ref refid="mpi__load_8c_1a39027f10a55694561083f05335d3cbbf" kindref="member" tooltip="Disconnection to the interface.">Mpi_disconnectInterface</ref>(desc);</highlight></codeline>
<codeline lineno="579"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/home/amine/workspace/MetaboFlux/metaboflux/src/mpi_load.c"/>
  </compounddef>
</doxygen>
